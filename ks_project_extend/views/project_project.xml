<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_project_form_inherit_custom" model="ir.ui.view">
        <field name="name">project.project.form.inherit.custom</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='user_id']" position="replace">
                <field name="user_id" string="Site Manager"/>
            </xpath>
            <xpath expr="//field[@name='user_id']" position="after">
                <field name="responsible" widget="many2many_tags" domain="[('id', '!=', user_id)]"/>
                <field name="assigned_employees" widget="many2many_tags"/>
            </xpath>
            <xpath expr="//field[@name='date_start']" position="after">
                <field name="work_order_description"/>
                <field name="type_of_work_id"/>
            </xpath>
            <xpath expr="//field[@name='tag_ids']" position="after">
                <field name="latitude"/>
                <field name="longitude"/>
            </xpath>
             <xpath expr="//div[@class='oe_button_box']" position="inside">
                <button name="%(action_daily_construction_report_from_project)s"
                        type="action"
                        class="oe_stat_button"
                        icon="fa-file-text">
                    <field name="daily_construction_report_ids" widget="statinfo" string="Daily Construction Report"/>
                </button>
            </xpath>

            <xpath expr="//header" position="inside">
                <button name="action_fetch_weather"
                        type="object"
                        class="btn-primary"
                        icon="fa-cloud"/>
            </xpath>

            <xpath expr="//notebook" position="inside">
                <page string="Weather Report">
                    <field name="weather_ids">
                        <list create="false" edit="false" delete="false">
                            <field name="report_date"/>
                            <field name="temp_min"/>
                            <field name="temp_max"/>
                            <field name="humidity"/>
                            <field name="conditions"/>
                        </list>
                    </field>
                </page>
            </xpath>

        </field>
    </record>
</odoo>
