<odoo>

    <!-- Sale Order Form View Inherit -->
    <record id="view_order_line_form_pdf_flag" model="ir.ui.view">
        <!-- Name of the view -->
        <field name="name">sale.order.line.pdf.flag</field>
        <!-- Model associated with the view -->
        <field name="model">sale.order</field>
        <!-- Reference to the parent view to inherit -->
        <field name="inherit_id" ref="sale.view_order_form"/>
        <!-- XML architecture of the view -->
        <field name="arch" type="xml">
            <!-- Add Smart buttons to the Sale Order -->
            <div name="button_box" position="inside">
                <!-- Button to fetch measurement calculation records -->
                <button class="oe_stat_button" type="object" icon="fa-calculator"
                        name="action_get_measurement_calculation_record">
                    <!-- Display measurement count as stat info -->
                    <field name="measurement_count" widget="statinfo"/>
                </button>
            </div>

            <!-- Add buttons to the header -->
            <xpath expr="//header" position="inside">
                <!-- Button to copy offer to EFB -->
                <button name="action_copy_offer_to_efb"
                        type="object"
                        string="Add to EFB"
                        class="btn btn-primary"/>
                <!-- Button to copy EFB to offer, conditionally invisible -->
                <button name="action_copy_efb_to_offer"
                        type="object"
                        string="Add to Offer"
                        invisible="show_efb_to_order_btn"
                        class="btn btn-secondary"/>
            </xpath>

            <!-- Replace label for the date_order field -->
            <label for="date_order" position="replace">
                <label for="date_order" string="Offer Date"/>
            </label>

            <!-- Add long description field to Sale Order lines -->
            <xpath expr="//field[@name='order_line']/list/field[@name='product_uom_qty']" position="before">
                <field name="long_desc"/>
            </xpath>
            <!-- Rename the order_lines page to Detailed offer -->
            <xpath expr="//notebook/page[@name='order_lines']" position='attributes'>
                <attribute name="string">Detailed offer</attribute>
            </xpath>

            <!-- Add Project Info group to the Sale Order -->
            <group name="sale_header" position="after">
                <group name="project_info" string="Project">
                    <group>
                        <!-- Project-related fields -->
                        <field name="project_id"/>
                        <field name="category"/>
                        <field name="is_same_delivery_address"/>
                        <field name="on_site"/>
                        <field name="is_unproductive"/>
                    </group>
                    <group>
                        <!-- Offer-related fields -->
                        <field name="offer_id"/>
                        <field name="is_offer_date"/>
                        <field name="is_portal_date"/>
                        <label for="start_date"/>
                        <div class="d-inline-flex">
                            <!-- Project plan date range -->
                            <field name="start_date" string="Project Plan Date" widget="daterange"
                                   options="{'end_date_field': 'end_date'}"/>
                            <field name="end_date"/>
                        </div>
                        <!-- Radio widget for send_offer_by field -->
                        <field name="send_offer_by" widget="radio" options="{'horizontal': true}"/>
                    </group>
                </group>
            </group>

            <!-- Add EFB page to the notebook -->
            <xpath expr="//page[@name='order_lines']" position="after">
                <page string="EFB" name="efb">
                    <!-- EFB line details -->
                    <field name="efb_line">
                        <list editable="bottom">
                            <field name="sequence"/>
                            <field name="description"/>
                            <field name="long_desc"/>
                            <field name="company_id" groups="base.group_multi_company" optional="hide"/>
                            <field name="product_uom_qty"/>
                            <field name="product_uom"/>
                            <field name="price_unit"/>
                            <field name="price_subtotal"/>
                        </list>
                    </field>
                    <group>
                        <group></group>
                        <!-- EFB totals group, conditionally visible -->
                        <group string="EFB Totals" name="efb_totals" invisible='not efb_line'>
                            <field name="efb_total_unit_price" widget="monetary" readonly="1"/>
                            <field name="efb_total_price" widget="monetary" readonly="1"/>
                        </group>
                    </group>
                </page>
            </xpath>

        </field>
    </record>

    <!-- Sale Order Form View Inherit -->
    <record id="ks_view_order_form_inherit_sale_project" model="ir.ui.view">
        <!-- Name of the view -->
        <field name="name">sale.order.line.pdf.project</field>
        <!-- Model associated with the view -->
        <field name="model">sale.order</field>
        <!-- Reference to the parent view to inherit -->
        <field name="inherit_id" ref="sale_project.view_order_form_inherit_sale_project"/>
        <!-- XML architecture of the view -->
        <field name="arch" type="xml">
            <!-- Replace project_id field -->
            <field name="project_id" position="replace"/>
        </field>
    </record>

    <!-- Sale Order Search View Inherit -->
    <record id="view_sale_order_search_inherit_offer" model="ir.ui.view">
        <!-- Name of the view -->
        <field name="name">sale.order.search.offer</field>
        <!-- Model associated with the view -->
        <field name="model">sale.order</field>
        <!-- Reference to the parent view to inherit -->
        <field name="inherit_id" ref="sale.sale_order_view_search_inherit_quotation"/>
        <!-- XML architecture of the view -->
        <field name="arch" type="xml">
            <!-- Add filter for offer_id after the name field -->
            <xpath expr="//field[@name='name']" position="after">
                <filter name="offer_id" string="Offer Type" domain="[('offer_id', '!=', False)]"/>
            </xpath>
        </field>
    </record>

</odoo>